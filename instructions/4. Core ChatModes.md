# Core ChatModes: Planning Mode for Feature Development

This guide will walk you through using GitHub Copilot's Planning Mode to create structured implementation plans for new features and refactoring tasks. Planning Mode leverages specialized tools to analyze your codebase and generate comprehensive development plans without making any code changes.

## What is Planning Mode?

Planning Mode is a specialized Copilot chat mode that focuses on generating implementation plans rather than writing code. It uses advanced tools to analyze your codebase, understand dependencies, and create structured plans that include requirements, implementation steps, and testing strategies.

## Step 1: Creating Your Planning Mode Chat Mode

Before using Planning Mode, you need to create the chat mode file that defines its behavior and capabilities.

### 1.1: Create the Chat Modes Directory and File

First, create the `.github/chatmodes` directory in your repository root:

```bash
mkdir .github
mkdir .github/chatmodes
```

Then navigate to this directory to create your chat mode file:

```bash
cd .github/chatmodes
```

Create a new file called `planner.chatmode.md`:

**Using VS Code:**
1. Right-click in the `.github/chatmodes` folder in the Explorer panel
2. Select "New File"
3. Name it `planner.chatmode.md`

**Using Command Line:**
```bash
# Navigate to the .github/chatmodes directory
cd .github/chatmodes

# Create the file (Windows PowerShell)
New-Item -Name "planner.chatmode.md" -ItemType "file"

# Or create the file (Git Bash)
touch planner.chatmode.md
```

### 1.2: Add the Planning Mode Configuration

Copy and paste this content into the `planner.chatmode.md` file:

```markdown
---
description: 'Generate an implementation plan for new features or refactoring existing code.'
tools: ['codebase', 'fetch', 'findTestFiles', 'githubRepo', 'search', 'usages']
---
# Planning mode instructions
You are in planning mode. Your task is to generate an implementation plan for a new feature or for refactoring existing code.
Don't make any code edits, just generate a plan.

The plan consists of a Markdown document that describes the implementation plan, including the following sections:

* Overview: A brief description of the feature or refactoring task.
* Requirements: A list of requirements for the feature or refactoring task.
* Implementation Steps: A detailed list of steps to implement the feature or refactoring task.
* Testing: A list of tests that need to be implemented to verify the feature or refactoring task.
```

### 1.3: Verify Your Chat Mode Setup

After creating the file:

1. **Open a new Chat Editor** to ensure the new chat mode is loaded
2. **Select "planner"** from the available modes dropdown
3. **Test the mode** with a simple planning request

**Example Prompts:**
```
Create an implementation plan for adding logging functionality to the Calculator class

Generate a refactoring plan to improve error handling across the calculator project

Plan the implementation of input validation for all calculator operations
```

**Expected Planning Mode Output:**

Planning Mode generates structured Markdown documents with these sections:

- **Overview**: Brief description of the feature or refactoring task
- **Requirements**: List of functional and non-functional requirements
- **Implementation Steps**: Detailed, actionable steps
- **Testing**: Test scenarios and validation strategies

### 1.4: Understanding Planning Mode Tools

Planning Mode comes with specialized tools that provide deep codebase analysis:

- **`codebase`**: Analyzes your entire project structure and dependencies
- **`fetch`**: Retrieves specific files and code segments
- **`findTestFiles`**: Locates existing test files and patterns
- **`githubRepo`**: Accesses repository information and history
- **`search`**: Performs semantic searches across your codebase
- **`usages`**: Finds how classes, methods, and variables are used

### 1.5: Using Planning Mode Effectively

To use Planning Mode effectively:

1. Open Copilot Chat (Ctrl+Alt+I or Cmd+Option+I)
2. Select "planner" from the modes dropdown
3. Start your request with planning-focused language
4. Be specific about whether you want a new feature or refactoring plan


## Step 2: Creating Feature Implementation Plans

Let's practice creating implementation plans for new features in your calculator project.

### 2.1: Plan a New Feature - Calculator History

Ask Planning Mode to create a plan for adding calculation history:

```
Create an implementation plan for adding a calculation history feature to the Calculator class that stores the last 10 operations and their results.
```

**What Planning Mode Will Do:**
1. **Analyze** the current Calculator class structure
2. **Identify** where history functionality should be integrated
3. **Consider** existing patterns and dependencies
4. **Generate** a comprehensive plan including:
   - Data structure for storing history
   - Methods for managing history
   - Integration points with existing code
   - Testing requirements

### 2.2: Validate Your Planning Mode Usage

After generating plans, verify they include:

- [ ] **Clear Overview**: Concise description of what will be implemented or refactored
- [ ] **Detailed Requirements**: Functional and non-functional requirements
- [ ] **Step-by-Step Implementation**: Actionable steps in logical order
- [ ] **Testing Strategy**: Unit tests, integration tests, and validation approaches
- [ ] **Dependencies**: Identification of affected files and components

## Summary

By following this guide, you've learned to:

1. ✅ **Understand** Planning Mode's specialized tools and capabilities
2. ✅ **Generate** implementation plans for new features
3. ✅ **Create** refactoring plans for code improvement
4. ✅ **Validate** that plans include all necessary sections

Planning Mode helps you:
- **Think before coding** with structured analysis
- **Identify dependencies** and potential issues early
- **Create comprehensive test strategies** 
- **Document implementation approaches** for team collaboration

## Next Steps

Continue using Planning Mode effectively:

- **Start with planning** before implementing any significant feature
- **Use plans as documentation** for code reviews and team discussions
- **Iterate on plans** based on feedback before starting implementation
- **Reference plans** during implementation to stay on track

## Resources

- [GitHub Copilot Chat Documentation](https://docs.github.com/en/copilot/github-copilot-chat)
- [VS Code Copilot Chat Extension](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat)
- [Software Architecture Planning Best Practices](https://martinfowler.com/architecture/)